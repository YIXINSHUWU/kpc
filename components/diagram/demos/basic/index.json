{
    "setting": {
        "title": "基本用法",
        "order": 0
    },
    "catalogs": [],
    "contents": "<blockquote>\n<p><code>Diagram</code>及所有子组件，由于基于<code>mxGraph</code>这个庞大的库，所以没有放入索引文件<code>index.js</code>，你只能通过如下方式引入</p>\n<p><code>import {Diagram, DRectangle} from &#39;kpc/components/diagram&#39;;</code></p>\n<p>而不能直接通过<code>kpc</code>引入</p>\n<p><code>import {Diagram, DRectangle} from &#39;kpc&#39;;</code></p>\n<p>Angular下，需要另外注入<code>DiagramModule</code></p>\n<p><code>import {DiagramModule} from &#39;kpc-angular/@css/components/diagram&#39;;</code></p>\n</blockquote>\n<p><code>Diagram</code>组件暴露了3类组件</p>\n<ol>\n<li>根组件：<code>Diagram</code>，每张图都必须以<code>Diagram</code>作为根元素</li>\n<li>图形组件: 包括图形<code>DRectangle</code> <code>DCircle</code>等，以及线条<code>DLine</code></li>\n<li>布局组件：<code>DFlowLayout</code> <code>DTreeLayout</code>等以<code>Layout</code>作为后缀名的组件</li>\n</ol>\n<p>使用说明如下：</p>\n<ol>\n<li>图形组件作为<code>Diagram</code>下的子孙元素，可以任意嵌套，但所有非嵌套在布局组件中的图形组件，默认都放置在<code>(0, 0)</code>\n坐标位置，即左上角；</li>\n<li>图形组件下可以嵌套任意元素，例如：<code>Button</code> <code>div</code>，但是一旦嵌套了DOM元素，则该图形不能再设置标签<code>label</code>，\n也不能双击图形编辑标签；</li>\n<li>图形组件的<code>label</code>属性支持任意的<code>html</code>字符串，并且支持双击编辑该<code>html</code>，不过默认情况下该功能是关闭的，需要给\n图形添加<code>editable</code>属性打开编辑功能；</li>\n<li>线条<code>DLine</code>用于连接两个图形组件，此时你需要给图形指定一个全局唯一的<code>key</code>，然后通过<code>DLine</code>的<code>from</code>和<code>to</code>属性\n指定连接的起止位置；</li>\n<li>布局组件下面只能嵌套图形组件，否则组件会抛出错误；</li>\n</ol>\n",
    "index": 40,
    "highlighted": [
        {
            "language": "vdt",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> {Diagram, DFlowLayout, DTreeLayout, DRectangle, DCircle, DDiamond, DLine} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/diagram'</span>;\n\n&lt;Diagram&gt;\n    &lt;DTreeLayout type=\"vertical\"&gt;\n        &lt;DRectangle label=\"&lt;h1&gt;hello&lt;/h1&gt;\" key=\"1\"&gt;&lt;/DRectangle&gt;\n        &lt;DDiamond key=\"2\" label=\"world\" /&gt;\n        &lt;DCircle key=\"3\" label=\"kpc\" /&gt;\n        &lt;DLine from=\"1\" to=\"2\" type=\"rounded\" /&gt;\n        &lt;DLine from=\"1\" to=\"3\" type=\"rounded\" /&gt;\n    &lt;/DTreeLayout&gt;\n&lt;/Diagram&gt;</code></pre>"
        },
        {
            "language": "js",
            "content": "<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> Intact <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'intact'</span>;\n<span class=\"hljs-keyword\">import</span> template <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./index.vdt'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Intact</span> </span>{\n    @Intact.template()\n    <span class=\"hljs-keyword\">static</span> template = template;\n}</code></pre>"
        },
        {
            "language": "vue",
            "content": "<pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Diagram</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DTreeLayout</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"vertical\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DRectangle</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"&lt;h1&gt;hello&lt;/h1&gt;\"</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">\"1\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">DRectangle</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DDiamond</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"world\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DCircle</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">\"3\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"kpc\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DLine</span> <span class=\"hljs-attr\">from</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">to</span>=<span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"rounded\"</span> /&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">DLine</span> <span class=\"hljs-attr\">from</span>=<span class=\"hljs-string\">\"1\"</span> <span class=\"hljs-attr\">to</span>=<span class=\"hljs-string\">\"3\"</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"rounded\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">DTreeLayout</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Diagram</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"javascript\">\n<span class=\"hljs-keyword\">import</span> {Diagram, DFlowLayout, DTreeLayout, DRectangle, DCircle, DDiamond, DLine} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-vue/components/diagram'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    <span class=\"hljs-attr\">components</span>: {\n        Diagram, DFlowLayout, DTreeLayout, DRectangle, DCircle, DDiamond, DLine\n    },\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span></code></pre>"
        },
        {
            "language": "jsx",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> React <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> {Diagram, DFlowLayout, DTreeLayout, DRectangle, DCircle, DDiamond, DLine} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-react/components/diagram'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Demo</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span> </span>{\n    render() {\n        <span class=\"hljs-keyword\">return</span> (\n            &lt;Diagram&gt;\n                &lt;DTreeLayout type=\"vertical\"&gt;\n                    &lt;DRectangle label=\"&lt;h1&gt;hello&lt;/h1&gt;\" key=\"1\"&gt;&lt;/DRectangle&gt;\n                    &lt;DDiamond key=\"2\" label=\"world\" /&gt;\n                    &lt;DCircle key=\"3\" label=\"kpc\" /&gt;\n                    &lt;DLine from=\"1\" to=\"2\" type=\"rounded\" /&gt;\n                    &lt;DLine from=\"1\" to=\"3\" type=\"rounded\" /&gt;\n                &lt;/DTreeLayout&gt;\n            &lt;/Diagram&gt;\n        )\n    }\n}</code></pre>"
        },
        {
            "language": "ts",
            "content": "<pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">import</span> {Component} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@angular/core'</span>;\n\n<span class=\"hljs-meta\">@Component</span>({\n    selector: <span class=\"hljs-string\">'app-demo'</span>,\n    template: <span class=\"hljs-string\">`\n        &lt;k-diagram&gt;\n            &lt;k-d-tree-layout type=\"vertical\"&gt;\n                &lt;k-d-rectangle label=\"&lt;h1&gt;hello&lt;/h1&gt;\" key=\"1\"&gt;&lt;/k-d-rectangle&gt;\n                &lt;k-d-diamond key=\"2\" label=\"world\"&gt;&lt;/k-d-diamond&gt;\n                &lt;k-d-circle key=\"3\" label=\"kpc\"&gt;&lt;/k-d-circle&gt;\n                &lt;k-d-line from=\"1\" to=\"2\" type=\"rounded\"&gt;&lt;/k-d-line&gt;\n                &lt;k-d-line from=\"1\" to=\"3\" type=\"rounded\"&gt;&lt;/k-d-line&gt;\n            &lt;/k-d-tree-layout&gt;\n        &lt;/k-diagram&gt;\n    `</span>,\n})\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">class</span> AppDemoComponent { }</code></pre>"
        }
    ]
}