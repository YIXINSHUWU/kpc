{
    "setting": {
        "title": "完全自定义",
        "order": 3
    },
    "catalogs": [],
    "contents": "<p>本例展示如何利用<code>Transfer</code>自定义更复杂的应用场景，本例中我们通过<code>list</code>扩展点定义整个列表，并且根据扩展点参数区别左右列表，定义不同的内容；然后通过<code>enableAdd</code>和<code>enableRemove</code>定义箭头按钮的可用状态；最后通过<code>add</code>和<code>remove</code>事件定义左右穿梭的逻辑</p>\n",
    "index": 208,
    "highlighted": [
        {
            "language": "vdt",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> Transfer <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/transfer'</span>;\n<span class=\"hljs-keyword\">import</span> Checkbox <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/checkbox'</span>;\n\n<span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Transfer</span> \n        <span class=\"hljs-attr\">enableAdd</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.enableAdd</span> }}\n        <span class=\"hljs-attr\">enableRemove</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.enableRemove</span> }}\n        <span class=\"hljs-attr\">ev-add</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.onAdd</span> }}\n        <span class=\"hljs-attr\">ev-remove</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.onRemove</span> }}\n    &gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b:header</span> <span class=\"hljs-attr\">params</span>=<span class=\"hljs-string\">\"type\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">type</span> === <span class=\"hljs-string\">'left'</span> }}&gt;</span>未分配<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">v-else</span>&gt;</span>标准双人间<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b:header</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b:list</span> <span class=\"hljs-attr\">params</span>=<span class=\"hljs-string\">\"type\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">type</span> === <span class=\"hljs-string\">'left'</span> }}&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"k-item\"</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.get</span>('<span class=\"hljs-attr\">users</span>') }}&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"checkedUsers\"</span> \n                        <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value</span> }} \n                        <span class=\"hljs-attr\">disabled</span>=<span class=\"hljs-string\">{{</span> !!<span class=\"hljs-attr\">value.room</span> }}\n                    &gt;</span>\n                        {{ value.name }}\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value.room</span> }}&gt;</span>（{{ value.room.name }}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">v-else</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"k-item\"</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">self.get</span>('<span class=\"hljs-attr\">rooms</span>') }}&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"checkedRooms\"</span> \n                        <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">{{</span> <span class=\"hljs-attr\">value</span> }}\n                    &gt;</span>\n                        {{ value.name }}\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>（当前人数：{{ value.users.length }}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b:list</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Transfer</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span></code></pre>"
        },
        {
            "language": "js",
            "content": "<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> Intact <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'intact'</span>;\n<span class=\"hljs-keyword\">import</span> template <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./index.vdt'</span>;\n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Intact</span> </span>{\n    @Intact.template()\n    <span class=\"hljs-keyword\">static</span> template = template;\n\n    defaults() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">users</span>: [\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'刘一'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'陈二'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">2</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'张三'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">3</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'李四'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">4</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'王五'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">5</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'赵六'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">6</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'孙七'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">7</span>, <span class=\"hljs-attr\">room</span>: <span class=\"hljs-literal\">null</span>},\n            ],\n            <span class=\"hljs-attr\">rooms</span>: [\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'标准双人间1'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">users</span>: []},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'标准双人间2'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">2</span>, <span class=\"hljs-attr\">users</span>: []},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'标准双人间3'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">3</span>, <span class=\"hljs-attr\">users</span>: []},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'标准双人间4'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">4</span>, <span class=\"hljs-attr\">users</span>: []},\n                {<span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">'标准双人间5'</span>, <span class=\"hljs-attr\">id</span>: <span class=\"hljs-number\">5</span>, <span class=\"hljs-attr\">users</span>: []},\n            ],\n            <span class=\"hljs-attr\">checkedUsers</span>: [],\n            <span class=\"hljs-attr\">checkedRooms</span>: [],\n        }\n    }\n\n    enableAdd() {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedUsers'</span>).length &amp;&amp; <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedRooms'</span>).length === <span class=\"hljs-number\">1</span>;\n    }\n\n    enableRemove() {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedRooms'</span>).length;\n    }\n\n    onAdd() {\n        <span class=\"hljs-keyword\">const</span> users = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedUsers'</span>);\n        <span class=\"hljs-keyword\">const</span> room = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedRooms'</span>)[<span class=\"hljs-number\">0</span>];\n\n        <span class=\"hljs-keyword\">if</span> (users.length &gt; <span class=\"hljs-number\">2</span>) {\n            <span class=\"hljs-keyword\">return</span> Message.error(<span class=\"hljs-string\">'当前房间最多容纳两人'</span>);\n        }\n\n        users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n            user.room = room;\n            room.users.push(user);\n        });\n\n        <span class=\"hljs-keyword\">this</span>.set({<span class=\"hljs-string\">'checkedUsers'</span>: [], <span class=\"hljs-string\">'checkedRooms'</span>: []});\n    }\n\n    onRemove() {\n        <span class=\"hljs-keyword\">const</span> rooms = <span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'checkedRooms'</span>);\n\n        rooms.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">room</span> =&gt;</span> {\n            room.users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n                user.room = <span class=\"hljs-literal\">null</span>; \n            });\n            room.users = [];\n        });\n\n        <span class=\"hljs-keyword\">this</span>.set(<span class=\"hljs-string\">'checkedRooms'</span>, []);\n    }\n}</code></pre>"
        },
        {
            "language": "vue",
            "content": "<pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Transfer</span> \n            <span class=\"hljs-attr\">:enableAdd</span>=<span class=\"hljs-string\">\"enableAdd\"</span>\n            <span class=\"hljs-attr\">:enableRemove</span>=<span class=\"hljs-string\">\"enableRemove\"</span>\n            @<span class=\"hljs-attr\">add</span>=<span class=\"hljs-string\">\"onAdd\"</span>\n            @<span class=\"hljs-attr\">remove</span>=<span class=\"hljs-string\">\"onRemove\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">slot</span>=<span class=\"hljs-string\">\"header\"</span> <span class=\"hljs-attr\">slot-scope</span>=<span class=\"hljs-string\">\"type\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">\"type === 'left'\"</span>&gt;</span>未分配<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">v-else</span>&gt;</span>标准双人间<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">slot</span>=<span class=\"hljs-string\">\"list\"</span> <span class=\"hljs-attr\">slot-scope</span>=<span class=\"hljs-string\">\"type\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">\"type === 'left'\"</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"k-item\"</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">\"(value, key) in users\"</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"checkedUsers\"</span> \n                            <span class=\"hljs-attr\">:trueValue</span>=<span class=\"hljs-string\">\"value\"</span> \n                            <span class=\"hljs-attr\">:disabled</span>=<span class=\"hljs-string\">\"!!value.room\"</span>\n                        &gt;</span>\n                            {{ value.name }}\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">\"value.room\"</span>&gt;</span>（{{ value.room.name }}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span> <span class=\"hljs-attr\">v-else</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">\"k-item\"</span> <span class=\"hljs-attr\">v-for</span>=<span class=\"hljs-string\">\"(value, key) in rooms\"</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"checkedRooms\"</span> \n                            <span class=\"hljs-attr\">:trueValue</span>=<span class=\"hljs-string\">\"value\"</span>\n                        &gt;</span>\n                            {{ value.name }}\n                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>（当前人数：{{ value.users.length }}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Transfer</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"javascript\">\n<span class=\"hljs-keyword\">import</span> Transfer <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-vue/components/transfer'</span>;\n<span class=\"hljs-keyword\">import</span> Checkbox <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-vue/components/checkbox'</span>;\n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-vue/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    <span class=\"hljs-attr\">components</span>: {\n        Transfer, Checkbox\n    },\n    data() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-string\">\"users\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"刘一\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"陈二\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"张三\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"李四\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"王五\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"赵六\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">6</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"孙七\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">7</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                }\n            ],\n            <span class=\"hljs-string\">\"rooms\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间1\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间2\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间3\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间4\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间5\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                }\n            ],\n            <span class=\"hljs-string\">\"checkedUsers\"</span>: [],\n            <span class=\"hljs-string\">\"checkedRooms\"</span>: []\n        }\n    },\n    <span class=\"hljs-attr\">methods</span>: {\n        enableAdd() {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.checkedUsers.length &amp;&amp; <span class=\"hljs-keyword\">this</span>.checkedRooms.length === <span class=\"hljs-number\">1</span>;\n        },\n        enableRemove() {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.checkedRooms.length;\n        },\n        onAdd() {\n            <span class=\"hljs-keyword\">const</span> users = <span class=\"hljs-keyword\">this</span>.checkedUsers;\n            <span class=\"hljs-keyword\">const</span> room = <span class=\"hljs-keyword\">this</span>.checkedRooms[<span class=\"hljs-number\">0</span>];\n        \n            <span class=\"hljs-keyword\">if</span> (users.length &gt; <span class=\"hljs-number\">2</span>) {\n                <span class=\"hljs-keyword\">return</span> Message.error(<span class=\"hljs-string\">'当前房间最多容纳两人'</span>);\n            }\n        \n            users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n                user.room = room;\n                room.users.push(user);\n            });\n        \n            <span class=\"hljs-keyword\">this</span>.checkedUsers = [];\n            <span class=\"hljs-keyword\">this</span>.checkedRooms = [];\n        },\n        onRemove() {\n            <span class=\"hljs-keyword\">const</span> rooms = <span class=\"hljs-keyword\">this</span>.checkedRooms;\n        \n            rooms.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">room</span> =&gt;</span> {\n                room.users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n                    user.room = <span class=\"hljs-literal\">null</span>; \n                });\n                room.users = [];\n            });\n        \n            <span class=\"hljs-keyword\">this</span>.checkedRooms = [];\n        },\n    },\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span></code></pre>"
        },
        {
            "language": "jsx",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> React <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> Transfer <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-react/components/transfer'</span>;\n<span class=\"hljs-keyword\">import</span> Checkbox <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-react/components/checkbox'</span>;\n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-react/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Demo</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">constructor</span>(props) {\n        <span class=\"hljs-keyword\">super</span>(props);\n        <span class=\"hljs-keyword\">this</span>.state = {\n            <span class=\"hljs-string\">\"users\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"刘一\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"陈二\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"张三\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"李四\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"王五\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"赵六\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">6</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"孙七\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">7</span>,\n                    <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n                }\n            ],\n            <span class=\"hljs-string\">\"rooms\"</span>: [\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间1\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间2\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间3\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间4\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                },\n                {\n                    <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间5\"</span>,\n                    <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n                    <span class=\"hljs-string\">\"users\"</span>: []\n                }\n            ],\n            <span class=\"hljs-string\">\"checkedUsers\"</span>: [],\n            <span class=\"hljs-string\">\"checkedRooms\"</span>: []\n        };\n        <span class=\"hljs-keyword\">this</span>.enableAdd = <span class=\"hljs-keyword\">this</span>.enableAdd.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.enableRemove = <span class=\"hljs-keyword\">this</span>.enableRemove.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.onAdd = <span class=\"hljs-keyword\">this</span>.onAdd.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.onRemove = <span class=\"hljs-keyword\">this</span>.onRemove.bind(<span class=\"hljs-keyword\">this</span>);\n    }\n\n    enableAdd() {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.state.checkedUsers.length &amp;&amp; <span class=\"hljs-keyword\">this</span>.state.checkedRooms.length === <span class=\"hljs-number\">1</span>;\n    }\n    \n    enableRemove() {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.state.checkedRooms.length;\n    }\n    \n    onAdd() {\n        <span class=\"hljs-keyword\">const</span> users = <span class=\"hljs-keyword\">this</span>.state.checkedUsers;\n        <span class=\"hljs-keyword\">const</span> room = <span class=\"hljs-keyword\">this</span>.state.checkedRooms[<span class=\"hljs-number\">0</span>];\n    \n        <span class=\"hljs-keyword\">if</span> (users.length &gt; <span class=\"hljs-number\">2</span>) {\n            <span class=\"hljs-keyword\">return</span> Message.error(<span class=\"hljs-string\">'当前房间最多容纳两人'</span>);\n        }\n    \n        users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n            user.room = room;\n            room.users.push(user);\n        });\n    \n        <span class=\"hljs-keyword\">this</span>.setState({<span class=\"hljs-string\">'checkedUsers'</span>: [], <span class=\"hljs-string\">'checkedRooms'</span>: []});\n    }\n    \n    onRemove() {\n        <span class=\"hljs-keyword\">const</span> rooms = <span class=\"hljs-keyword\">this</span>.state.checkedRooms;\n    \n        rooms.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">room</span> =&gt;</span> {\n            room.users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n                user.room = <span class=\"hljs-literal\">null</span>; \n            });\n            room.users = [];\n        });\n    \n        <span class=\"hljs-keyword\">this</span>.setState({<span class=\"hljs-attr\">checkedRooms</span>: []});\n    }\n    \n    render() {\n        <span class=\"hljs-keyword\">return</span> (\n            <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Transfer</span>\n                    <span class=\"hljs-attr\">b-header</span>=<span class=\"hljs-string\">{(type)</span> =&gt;</span> {\n                        return <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                            {type === 'left' ?\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>未分配<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span> :\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>标准双人间<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                            }\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                    }}\n                    b-list={(type) =&gt; {\n                        return <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                            {type === 'left' ?\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                                    {this.state.users.map((value, key) =&gt; {\n                                        return (\n                                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"k-item\"</span>&gt;</span>\n                                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{this.state.checkedUsers}</span>\n                                                    <span class=\"hljs-attr\">on</span>$<span class=\"hljs-attr\">change-value</span>=<span class=\"hljs-string\">{(c,</span> <span class=\"hljs-attr\">checkedUsers</span>) =&gt;</span> this.setState({checkedUsers})} \n                                                    trueValue={value} \n                                                    disabled={!!value.room}\n                                                &gt;\n                                                    {value.name}\n                                                    {value.room ?\n                                                        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>（{value.room.name}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span> :\n                                                        undefined\n                                                    }\n                                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                                        )\n                                    })}\n                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">React.Fragment</span>&gt;</span> :\n                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                                    {this.state.rooms.map((value, key) =&gt; {\n                                        return (\n                                            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"k-item\"</span>&gt;</span>\n                                                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{this.state.checkedRooms}</span>\n                                                    <span class=\"hljs-attr\">on</span>$<span class=\"hljs-attr\">change-value</span>=<span class=\"hljs-string\">{(c,</span> <span class=\"hljs-attr\">checkedRooms</span>) =&gt;</span> this.setState({checkedRooms})} \n                                                    trueValue={value}\n                                                &gt;\n                                                    {value.name}\n                                                    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>（当前人数：{value.users.length}）<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n                                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n                                            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n                                        )\n                                    })}\n                                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                            }\n                        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">React.Fragment</span>&gt;</span>\n                    }}\n                    enableAdd={this.enableAdd}\n                    enableRemove={this.enableRemove}\n                    onAdd={this.onAdd}\n                    onRemove={this.onRemove}\n                &gt;\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Transfer</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n        )\n    }\n}</code></pre>"
        },
        {
            "language": "ts",
            "content": "<pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">import</span> {Component} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@angular/core'</span>;\n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc-angular/components/message'</span>;\n\n\n<span class=\"hljs-meta\">@Component</span>({\n    selector: <span class=\"hljs-string\">'app-demo'</span>,\n    template: <span class=\"hljs-string\">`\n        &lt;div&gt;\n            &lt;k-transfer \n                [enableAdd]=\"enableAdd\"\n                [enableRemove]=\"enableRemove\"\n                (add)=\"onAdd($event)\"\n                (remove)=\"onRemove($event)\"\n            &gt;\n                &lt;ng-template #header let-type=\"args[0]\"&gt;\n                    &lt;div *ngIf=\"type === 'left'\"&gt;未分配&lt;/div&gt;\n                    &lt;div *ngIf=\"!((type === 'left'))\"&gt;标准双人间&lt;/div&gt;\n                &lt;/ng-template&gt;\n                &lt;ng-template #list let-type=\"args[0]\"&gt;\n                    &lt;ng-container *ngIf=\"type === 'left'\"&gt;\n                        &lt;div class=\"k-item\" *ngFor=\"let value of users; index as key\"&gt;\n                            &lt;k-checkbox [(value)]=\"checkedUsers\" \n                                [trueValue]=\"value\" \n                                [disabled]=\"!!value.room\"\n                            &gt;\n                                {{ value.name }}\n                                &lt;span *ngIf=\"value.room\"&gt;（{{ value.room.name }}）&lt;/span&gt;\n                            &lt;/k-checkbox&gt;\n                        &lt;/div&gt;\n                    &lt;/ng-container&gt;\n                    &lt;ng-container *ngIf=\"!((type === 'left'))\"&gt;\n                        &lt;div class=\"k-item\" *ngFor=\"let value of rooms; index as key\"&gt;\n                            &lt;k-checkbox [(value)]=\"checkedRooms\" \n                                [trueValue]=\"value\"\n                            &gt;\n                                {{ value.name }}\n                                &lt;span&gt;（当前人数：{{ value.users.length }}）&lt;/span&gt;\n                            &lt;/k-checkbox&gt;\n                        &lt;/div&gt;\n                    &lt;/ng-container&gt;\n                &lt;/ng-template&gt;\n            &lt;/k-transfer&gt;\n        &lt;/div&gt;\n    `</span>,\n})\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">class</span> AppDemoComponent {\n    <span class=\"hljs-keyword\">private</span> users = [\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"刘一\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"陈二\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"张三\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"李四\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"王五\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"赵六\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">6</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"孙七\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">7</span>,\n            <span class=\"hljs-string\">\"room\"</span>: <span class=\"hljs-literal\">null</span>\n        }\n    ];\n    <span class=\"hljs-keyword\">private</span> rooms = [\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间1\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">1</span>,\n            <span class=\"hljs-string\">\"users\"</span>: []\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间2\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">2</span>,\n            <span class=\"hljs-string\">\"users\"</span>: []\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间3\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">3</span>,\n            <span class=\"hljs-string\">\"users\"</span>: []\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间4\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">4</span>,\n            <span class=\"hljs-string\">\"users\"</span>: []\n        },\n        {\n            <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"标准双人间5\"</span>,\n            <span class=\"hljs-string\">\"id\"</span>: <span class=\"hljs-number\">5</span>,\n            <span class=\"hljs-string\">\"users\"</span>: []\n        }\n    ];\n    <span class=\"hljs-keyword\">private</span> checkedUsers = [];\n    <span class=\"hljs-keyword\">private</span> checkedRooms = [];\n\n    <span class=\"hljs-comment\">// helper function</span>\n    <span class=\"hljs-keyword\">set</span>(obj) { <span class=\"hljs-built_in\">Object</span>.keys(obj).forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">key</span> =&gt;</span> <span class=\"hljs-keyword\">this</span>[key] = obj[key]); }\n    \n    enableAdd = <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.checkedUsers.length &amp;&amp; <span class=\"hljs-keyword\">this</span>.checkedRooms.length === <span class=\"hljs-number\">1</span>;\n    }\n    \n    enableRemove = <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.checkedRooms.length;\n    }\n    \n    onAdd() {\n        <span class=\"hljs-keyword\">const</span> users = <span class=\"hljs-keyword\">this</span>.checkedUsers;\n        <span class=\"hljs-keyword\">const</span> room = <span class=\"hljs-keyword\">this</span>.checkedRooms[<span class=\"hljs-number\">0</span>];\n    \n        <span class=\"hljs-keyword\">if</span> (users.length &gt; <span class=\"hljs-number\">2</span>) {\n            <span class=\"hljs-keyword\">return</span> Message.error(<span class=\"hljs-string\">'当前房间最多容纳两人'</span>);\n        }\n    \n        users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n            user.room = room;\n            room.users.push(user);\n        });\n    \n        <span class=\"hljs-keyword\">this</span>.set({<span class=\"hljs-string\">'checkedUsers'</span>: [], <span class=\"hljs-string\">'checkedRooms'</span>: []});\n    }\n    \n    onRemove() {\n        <span class=\"hljs-keyword\">const</span> rooms = <span class=\"hljs-keyword\">this</span>.checkedRooms;\n    \n        rooms.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">room</span> =&gt;</span> {\n            room.users.forEach(<span class=\"hljs-function\"><span class=\"hljs-params\">user</span> =&gt;</span> {\n                user.room = <span class=\"hljs-literal\">null</span>; \n            });\n            room.users = [];\n        });\n    \n        <span class=\"hljs-keyword\">this</span>.checkedRooms = [];\n    }\n}</code></pre>"
        }
    ]
}