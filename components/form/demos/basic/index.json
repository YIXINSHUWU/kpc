{
    "setting": {
        "title": "基本用法",
        "order": 0
    },
    "catalogs": [],
    "contents": "<p>表单需要<code>Form</code>嵌套<code>FormItem</code>进行使用，<code>FormItem</code>中可以包含任意组件或原生元素。同时我们可以指定<code>FormItem</code>的表单验证规则：</p>\n<ol>\n<li>给<code>FormItem</code>添加<code>model</code>属性，指定需要验证的字段名。如果不指定，则不会进行任何验证</li>\n<li>给<code>FormItem</code>添加<code>rules</code>属性，指定需要验证的规则。如果不指定，则不会进行任何验证。内置的验证规则如下：<ol>\n<li><code>required {Boolean}</code>：必须填写</li>\n<li><code>digits {Boolean}</code>： 请输入数字</li>\n<li><code>email {Boolean}</code>: 请输入正确的邮箱地址</li>\n<li><code>url {Boolean}</code>: 请输入正确的网址<blockquote>\n<p>该规则可以验证IP地址，但是会排除<code>192.168.X.X | 192.254.X.X | 172.16.0.0 - 172.31.255.255 | 10.X.X.X | 172.X.X.X</code>这类保留IP地址</p>\n</blockquote>\n</li>\n<li><code>date {Boolean}</code>：请输入正确的日期</li>\n<li><code>dateISO {Boolean}</code>：请输入正确的日期（YYYY-MM-DD）</li>\n<li><code>number {Boolean}</code>：请输入正确的数</li>\n<li><code>maxLength {Number}</code>：如果检验的值是数组：最多选择n项；如果检验的值是字符串：最多输入n个字符</li>\n<li><code>minLength {Number}</code>：同上（检验最少长度）</li>\n<li><code>rangeLength {Array&lt;Number&gt;}</code>：同上，检验长度的范围</li>\n<li><code>max {Number}</code>：请输入不大于n的数</li>\n<li><code>min {Number}</code>：请输入不小于n的数</li>\n<li><code>range {Array&lt;Number&gt;}</code>：请输入min到max之间的数</li>\n<li><code>step {Number}</code>：请输入步长为n的数</li>\n<li><code>equalTo {String}</code>：两次输入不一致</li>\n</ol>\n</li>\n<li>给<code>FormItem</code>添加<code>messages</code>属性，指定验证失败时展示的错误内容。默认内容如上所示</li>\n<li>给<code>FormItem</code>添加<code>classNames</code>属性，指定验证失败时错误元素需要额外添加的className，默认不添加</li>\n</ol>\n<p>表单验证通过会触发<code>submit</code>事件（不通过不会触发），我们可以绑定该事件来提交数据。或者我们也可以手动调用<code>Form</code>的<code>validate()</code>方法来验证，该函数为异步函数，返回<code>true</code>或<code>false</code>来标示验证是否通过。另外，验证失败时，可以通过<code>Form</code>的<code>getFirstInvalidFormItem()</code>方法来获取第一条出错的<code>FormItem</code></p>\n<blockquote>\n<p>验证的字段名必须是当前上下文对象上的直接属性名，在循环中我们必须通过索引来拼接取值路径字符串，例如：<code>&quot;users.0.phone&quot;</code></p>\n</blockquote>\n<blockquote>\n<p>React下，需要往子组件注入当前上下文<code>_context</code>，因为<code>FormItem</code>需要从当前上下文获取待验证的值，详见下面<code>index.jsx</code>示例文件</p>\n</blockquote>\n",
    "index": 20,
    "highlighted": [
        {
            "language": "vdt",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> {Form, FormItem} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/form'</span>;\n<span class=\"hljs-keyword\">import</span> {Input} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/input'</span>;\n<span class=\"hljs-keyword\">import</span> {Select, Option} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/select'</span>;\n<span class=\"hljs-keyword\">import</span> {Checkbox} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/checkbox'</span>;\n<span class=\"hljs-keyword\">import</span> {Radio} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/radio'</span>;\n<span class=\"hljs-keyword\">import</span> {ButtonGroup, Button} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n<span class=\"hljs-keyword\">import</span> {Switch} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/switch'</span>;\n<span class=\"hljs-keyword\">import</span> {Slider} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/slider'</span>;\n<span class=\"hljs-keyword\">import</span> {Datepicker} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/datepicker'</span>;\n\n&lt;Form ev-submit={{ self.submit }} ref=\"form\" labelWidth=\"200\"&gt;\n    &lt;FormItem label=\"Input\" model=\"model.input\" rules={{ {required: true} }}&gt;\n        &lt;Input v-model=\"model.input\" /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Select\" model=\"model.select\" \n        rules={{ {required: true} }} \n        messages={{ {required: '必须选择'} }}\n    &gt;\n        &lt;Select v-model=\"model.select\"&gt;\n            &lt;Option value=\"Javascript\"&gt;Javascript&lt;/Option&gt;\n            &lt;Option value=\"PHP\"&gt;PHP&lt;/Option&gt;\n            &lt;Option value=\"C++\"&gt;C++&lt;/Option&gt;\n        &lt;/Select&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Checkbox\" model=\"model.checkbox\" \n        rules={{ {required: true, maxLength: 2} }}\n        messages={{ {required: '必须选择'} }}\n    &gt;\n        &lt;Checkbox trueValue=\"Javascript\" v-model=\"model.checkbox\"&gt;Javascript&lt;/Checkbox&gt;\n        &lt;Checkbox trueValue=\"PHP\" v-model=\"model.checkbox\"&gt;PHP&lt;/Checkbox&gt;\n        &lt;Checkbox trueValue=\"C++\" v-model=\"model.checkbox\"&gt;C++&lt;/Checkbox&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Radio\" model=\"model.radio\"\n        rules={{ {required: true} }} \n        messages={{ {required: '必须选择'} }}\n    &gt;\n        &lt;Radio trueValue=\"Javascript\" v-model=\"model.radio\"&gt;Javascript&lt;/Radio&gt;\n        &lt;Radio trueValue=\"PHP\" v-model=\"model.radio\"&gt;PHP&lt;/Radio&gt;\n        &lt;Radio trueValue=\"C++\" v-model=\"model.radio\"&gt;C++&lt;/Radio&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Radio ButtonGroup\" model=\"model.buttonGroup\"\n        rules={{ {required: true} }} \n        messages={{ {required: '必须选择'} }}\n    &gt;\n        &lt;ButtonGroup checkType=\"radio\" v-model=\"model.buttonGroup\"&gt;\n            &lt;Button value=\"Javascript\"&gt;Javascript&lt;/Button&gt;\n            &lt;Button value=\"PHP\"&gt;PHP&lt;/Button&gt;\n            &lt;Button value=\"C++\"&gt;C++&lt;/Button&gt;\n        &lt;/ButtonGroup&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Switch\" model=\"model.switch\"&gt;\n        &lt;Switch v-model=\"model.switch\" /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem model=\"model.slider\" rules={{ {required: true, min: 1} }} label=\"Slider\"&gt;\n        &lt;Slider v-model=\"model.slider\" isShowInput={{ false }} /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem model=\"model.date\" rules={{ {required: true} }} label=\"Datepicker\"&gt;\n        &lt;Datepicker v-model=\"model.date\" /&gt;  \n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Textarea\" model=\"model.textarea\"\n        rules={{ {required: true} }}\n    &gt;\n        &lt;Input type=\"textarea\" v-model=\"model.textarea\" /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Password\" model=\"model.password\"\n        rules={{ {required: true} }}\n    &gt;\n        &lt;Input type=\"password\" v-model=\"model.password\" /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem label=\"Confirm Password\" model=\"model.confirmPassword\"\n        rules={{ {required: true, equalTo: 'model.password'} }}\n    &gt;\n        &lt;Input type=\"password\" v-model=\"model.confirmPassword\" /&gt;\n    &lt;/FormItem&gt;\n    &lt;FormItem&gt;\n        &lt;Button type=\"primary\" htmlType=\"submit\" ev-click={{ self.handleSubmit }}&gt;提交&lt;/Button&gt;\n        &lt;Button style=\"margin-left: 20px\" ev-click={{ self.reset }}&gt;重置&lt;/Button&gt;\n    &lt;/FormItem&gt;\n&lt;/Form&gt;</code></pre>"
        },
        {
            "language": "styl",
            "content": "<pre><code class=\"hljs styl\"><span class=\"hljs-selector-class\">.k-slider</span>\n<span class=\"hljs-selector-class\">.k-select</span>\n    <span class=\"hljs-attribute\">width</span> <span class=\"hljs-number\">300px</span>\n<span class=\"hljs-selector-class\">.k-radio</span>\n<span class=\"hljs-selector-class\">.k-checkbox</span>\n    <span class=\"hljs-attribute\">margin-right</span> <span class=\"hljs-number\">10px</span>\n\n@media (<span class=\"hljs-attribute\">max-width</span>: <span class=\"hljs-number\">768px</span>) \n    <span class=\"hljs-selector-class\">.k-form-item</span>\n        <span class=\"hljs-attribute\">width</span> <span class=\"hljs-number\">100%</span>\n        <span class=\"hljs-selector-class\">.k-input</span>\n        <span class=\"hljs-selector-class\">.k-select</span>\n        <span class=\"hljs-selector-class\">.k-datepicker</span>\n        <span class=\"hljs-selector-class\">.k-slider</span>\n            <span class=\"hljs-attribute\">width</span> <span class=\"hljs-number\">100%</span>\n        <span class=\"hljs-selector-class\">.k-label</span>\n            <span class=\"hljs-attribute\">width</span> <span class=\"hljs-number\">100px</span> !important</code></pre>"
        },
        {
            "language": "js",
            "content": "<pre><code class=\"hljs js\"><span class=\"hljs-keyword\">import</span> Intact <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'intact'</span>;\n<span class=\"hljs-keyword\">import</span> template <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./index.vdt'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./index.styl'</span>; \n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Intact</span> </span>{\n    @Intact.template()\n    <span class=\"hljs-keyword\">static</span> template = template;\n\n    defaults() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">model</span>: {\n                <span class=\"hljs-attr\">checkbox</span>: []\n            }\n        };\n    }\n\n    submit() {\n        Message.success(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n        <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'model'</span>));\n    }\n\n    <span class=\"hljs-keyword\">async</span> handleSubmit() {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">this</span>.refs.form.validate()) {\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// 验证失败，我们可以获取第一条出错的FormItem</span>\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.refs.form.getFirstInvalidFormItem());\n        }\n    }\n\n    reset() {\n        <span class=\"hljs-keyword\">this</span>.refs.form.reset();\n        <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.get(<span class=\"hljs-string\">'model'</span>));\n    }\n}</code></pre>"
        },
        {
            "language": "vue",
            "content": "<pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Form</span> @<span class=\"hljs-attr\">submit</span>=<span class=\"hljs-string\">\"submit\"</span> <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">\"form\"</span> <span class=\"hljs-attr\">labelWidth</span>=<span class=\"hljs-string\">\"200\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Input\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.input\"</span> <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Input</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.input\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Select\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.select\"</span> \n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span> \n            <span class=\"hljs-attr\">:messages</span>=<span class=\"hljs-string\">\"{required: '必须选择'}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Select</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.select\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"Javascript\"</span>&gt;</span>Javascript<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Option</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"PHP\"</span>&gt;</span>PHP<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Option</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"C++\"</span>&gt;</span>C++<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Option</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Select</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Checkbox\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.checkbox\"</span> \n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true, maxLength: 2}\"</span>\n            <span class=\"hljs-attr\">:messages</span>=<span class=\"hljs-string\">\"{required: '必须选择'}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"Javascript\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.checkbox\"</span>&gt;</span>Javascript<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"PHP\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.checkbox\"</span>&gt;</span>PHP<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Checkbox</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"C++\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.checkbox\"</span>&gt;</span>C++<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Checkbox</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Radio\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.radio\"</span>\n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span> \n            <span class=\"hljs-attr\">:messages</span>=<span class=\"hljs-string\">\"{required: '必须选择'}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Radio</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"Javascript\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.radio\"</span>&gt;</span>Javascript<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Radio</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Radio</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"PHP\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.radio\"</span>&gt;</span>PHP<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Radio</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Radio</span> <span class=\"hljs-attr\">trueValue</span>=<span class=\"hljs-string\">\"C++\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.radio\"</span>&gt;</span>C++<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Radio</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Radio ButtonGroup\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.buttonGroup\"</span>\n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span> \n            <span class=\"hljs-attr\">:messages</span>=<span class=\"hljs-string\">\"{required: '必须选择'}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ButtonGroup</span> <span class=\"hljs-attr\">checkType</span>=<span class=\"hljs-string\">\"radio\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.buttonGroup\"</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"Javascript\"</span>&gt;</span>Javascript<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"PHP\"</span>&gt;</span>PHP<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n                <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">\"C++\"</span>&gt;</span>C++<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ButtonGroup</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Switch\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.switch\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">KSwitch</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.switch\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.slider\"</span> <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true, min: 1}\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Slider\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Slider</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.slider\"</span> <span class=\"hljs-attr\">:isShowInput</span>=<span class=\"hljs-string\">\"false\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.date\"</span> <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Datepicker\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Datepicker</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.date\"</span> /&gt;</span>  \n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Textarea\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.textarea\"</span>\n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"textarea\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.textarea\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Password\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.password\"</span>\n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.password\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span> <span class=\"hljs-attr\">label</span>=<span class=\"hljs-string\">\"Confirm Password\"</span> <span class=\"hljs-attr\">model</span>=<span class=\"hljs-string\">\"model.confirmPassword\"</span>\n            <span class=\"hljs-attr\">:rules</span>=<span class=\"hljs-string\">\"{required: true, equalTo: 'model.password'}\"</span>\n        &gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"password\"</span> <span class=\"hljs-attr\">v-model</span>=<span class=\"hljs-string\">\"model.confirmPassword\"</span> /&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">FormItem</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"primary\"</span> <span class=\"hljs-attr\">htmlType</span>=<span class=\"hljs-string\">\"submit\"</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">\"handleSubmit\"</span>&gt;</span>提交<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Button</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">\"margin-left: 20px\"</span> @<span class=\"hljs-attr\">click</span>=<span class=\"hljs-string\">\"reset\"</span>&gt;</span>重置<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Button</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">FormItem</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Form</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"javascript\">\n<span class=\"hljs-keyword\">import</span> {Form, FormItem} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/form'</span>;\n<span class=\"hljs-keyword\">import</span> {Input} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/input'</span>;\n<span class=\"hljs-keyword\">import</span> {Select, Option} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/select'</span>;\n<span class=\"hljs-keyword\">import</span> {Checkbox} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/checkbox'</span>;\n<span class=\"hljs-keyword\">import</span> {Radio} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/radio'</span>;\n<span class=\"hljs-keyword\">import</span> {ButtonGroup, Button} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n<span class=\"hljs-keyword\">import</span> {Switch <span class=\"hljs-keyword\">as</span> KSwitch} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/switch'</span>;\n<span class=\"hljs-keyword\">import</span> {Slider} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/slider'</span>;\n<span class=\"hljs-keyword\">import</span> {Datepicker} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/datepicker'</span>;\n\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> {\n    <span class=\"hljs-attr\">components</span>: {\n        Form, FormItem, Input, Select, Option, Checkbox, Radio, ButtonGroup, Button, KSwitch, Slider, Datepicker\n    },\n    data() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">model</span>: {\n                <span class=\"hljs-attr\">checkbox</span>: [],\n            }\n        }\n    },\n    <span class=\"hljs-attr\">methods</span>: {\n        submit() {\n            Message.success(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.model);\n        },\n        <span class=\"hljs-keyword\">async</span> handleSubmit() {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">this</span>.$refs.form.validate()) {\n                <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n            } <span class=\"hljs-keyword\">else</span> {\n                <span class=\"hljs-comment\">// 验证失败，我们可以获取第一条出错的FormItem</span>\n                <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.$refs.form.getFirstInvalidFormItem());\n            }\n        },\n        reset() {\n            <span class=\"hljs-keyword\">this</span>.$refs.form.reset();\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.model);\n        },\n    },\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"stylus\"</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"./index.styl\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span></code></pre>"
        },
        {
            "language": "jsx",
            "content": "<pre><code class=\"hljs jsx\"><span class=\"hljs-keyword\">import</span> React <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> {Form, FormItem} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/form'</span>;\n<span class=\"hljs-keyword\">import</span> {Input} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/input'</span>;\n<span class=\"hljs-keyword\">import</span> {Select, Option} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/select'</span>;\n<span class=\"hljs-keyword\">import</span> {Checkbox} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/checkbox'</span>;\n<span class=\"hljs-keyword\">import</span> {Radio} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/radio'</span>;\n<span class=\"hljs-keyword\">import</span> {ButtonGroup, Button} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/button'</span>;\n<span class=\"hljs-keyword\">import</span> {Switch} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/switch'</span>;\n<span class=\"hljs-keyword\">import</span> {Slider} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/slider'</span>;\n<span class=\"hljs-keyword\">import</span> {Datepicker} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/datepicker'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./index.styl'</span>;\n<span class=\"hljs-keyword\">import</span> Message <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'kpc/components/message'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Demo</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span> </span>{\n    <span class=\"hljs-keyword\">constructor</span>(props) {\n        <span class=\"hljs-keyword\">super</span>(props);\n        <span class=\"hljs-keyword\">this</span>.state = {\n            <span class=\"hljs-string\">\"model\"</span>: {\n                <span class=\"hljs-string\">\"checkbox\"</span>: []\n            }\n        };\n        <span class=\"hljs-keyword\">this</span>._onChange = <span class=\"hljs-keyword\">this</span>._onChange.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.submit = <span class=\"hljs-keyword\">this</span>.submit.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.handleSubmit = <span class=\"hljs-keyword\">this</span>.handleSubmit.bind(<span class=\"hljs-keyword\">this</span>);\n        <span class=\"hljs-keyword\">this</span>.reset = <span class=\"hljs-keyword\">this</span>.reset.bind(<span class=\"hljs-keyword\">this</span>);\n    }\n\n    _onChange(key, c, value) {\n        <span class=\"hljs-keyword\">this</span>.setState({\n            <span class=\"hljs-attr\">model</span>:{\n                ...this.state.model,\n                [key]: value\n            }\n        })\n    }\n    \n    submit() {\n        Message.success(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n        <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.state.model);\n    }\n    \n    <span class=\"hljs-keyword\">async</span> handleSubmit() {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">this</span>.form.validate()) {\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">'验证通过，开始提交'</span>);\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// 验证失败，我们可以获取第一条出错的FormItem</span>\n            <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.form.getFirstInvalidFormItem());\n        }\n    }\n    \n    reset() {\n        <span class=\"hljs-keyword\">this</span>.form.reset();\n        <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-keyword\">this</span>.state.model);\n    }\n    \n    <span class=\"hljs-comment\">// 注入_context上下文</span>\n    <span class=\"hljs-keyword\">static</span> childContextTypes = {\n        <span class=\"hljs-attr\">_context</span>: <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {}\n    }\n    \n    getChildContext() {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">_context</span>: <span class=\"hljs-keyword\">this</span>\n        }\n    }\n    \n    render() {\n        <span class=\"hljs-keyword\">return</span> (\n            &lt;Form onSubmit={this.submit} ref={i =&gt; this.form = i} labelWidth=\"200\"&gt;\n                &lt;FormItem label=\"Input\" model=\"model.input\" rules={{required: true}}&gt;\n                    &lt;Input value={this.state.model.input} on$change-value={this._onChange.bind(this, 'input')} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Select\" model=\"model.select\" \n                    rules={{required: true}} \n                    messages={{required: '必须选择'}}\n                &gt;\n                    &lt;Select value={this.state.model.select} on$change-value={this._onChange.bind(this, 'select')}&gt;\n                        &lt;Option value=\"Javascript\"&gt;Javascript&lt;/Option&gt;\n                        &lt;Option value=\"PHP\"&gt;PHP&lt;/Option&gt;\n                        &lt;Option value=\"C++\"&gt;C++&lt;/Option&gt;\n                    &lt;/Select&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Checkbox\" model=\"model.checkbox\" \n                    rules={{required: true, maxLength: 2}}\n                    messages={{required: '必须选择'}}\n                &gt;\n                    &lt;Checkbox trueValue=\"Javascript\" value={this.state.model.checkbox} on$change-value={this._onChange.bind(this, 'checkbox')}&gt;Javascript&lt;/Checkbox&gt;\n                    &lt;Checkbox trueValue=\"PHP\" value={this.state.model.checkbox} on$change-value={this._onChange.bind(this, 'checkbox')}&gt;PHP&lt;/Checkbox&gt;\n                    &lt;Checkbox trueValue=\"C++\" value={this.state.model.checkbox} on$change-value={this._onChange.bind(this, 'checkbox')}&gt;C++&lt;/Checkbox&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Radio\" model=\"model.radio\"\n                    rules={{required: true}} \n                    messages={{required: '必须选择'}}\n                &gt;\n                    &lt;Radio trueValue=\"Javascript\" value={this.state.model.radio} on$change-value={this._onChange.bind(this, 'radio')}&gt;Javascript&lt;/Radio&gt;\n                    &lt;Radio trueValue=\"PHP\" value={this.state.model.radio} on$change-value={this._onChange.bind(this, 'radio')}&gt;PHP&lt;/Radio&gt;\n                    &lt;Radio trueValue=\"C++\" value={this.state.model.radio} on$change-value={this._onChange.bind(this, 'radio')}&gt;C++&lt;/Radio&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Radio ButtonGroup\" model=\"model.buttonGroup\"\n                    rules={{required: true}} \n                    messages={{required: '必须选择'}}\n                &gt;\n                    &lt;ButtonGroup checkType=\"radio\" value={this.state.model.buttonGroup} on$change-value={this._onChange.bind(this, 'buttonGroup')}&gt;\n                        &lt;Button value=\"Javascript\"&gt;Javascript&lt;/Button&gt;\n                        &lt;Button value=\"PHP\"&gt;PHP&lt;/Button&gt;\n                        &lt;Button value=\"C++\"&gt;C++&lt;/Button&gt;\n                    &lt;/ButtonGroup&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Switch\" model=\"model.switch\"&gt;\n                    &lt;Switch value={this.state.model.switch} on$change-value={this._onChange.bind(this, 'switch')} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem model=\"model.slider\" rules={{required: true, min: 1}} label=\"Slider\"&gt;\n                    &lt;Slider value={this.state.model.slider} on$change-value={this._onChange.bind(this, 'slider')} isShowInput={false} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem model=\"model.date\" rules={{required: true}} label=\"Datepicker\"&gt;\n                    &lt;Datepicker value={this.state.model.date} on$change-value={this._onChange.bind(this, 'date')} /&gt;  \n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Textarea\" model=\"model.textarea\"\n                    rules={{required: true}}\n                &gt;\n                    &lt;Input type=\"textarea\" value={this.state.model.textarea} on$change-value={this._onChange.bind(this, 'textarea')} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Password\" model=\"model.password\"\n                    rules={{required: true}}\n                &gt;\n                    &lt;Input type=\"password\" value={this.state.model.password} on$change-value={this._onChange.bind(this, 'password')} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem label=\"Confirm Password\" model=\"model.confirmPassword\"\n                    rules={{required: true, equalTo: 'model.password'}}\n                &gt;\n                    &lt;Input type=\"password\" value={this.state.model.confirmPassword} on$change-value={this._onChange.bind(this, 'confirmPassword')} /&gt;\n                &lt;/FormItem&gt;\n                &lt;FormItem&gt;\n                    &lt;Button type=\"primary\" htmlType=\"submit\" onClick={this.handleSubmit}&gt;提交&lt;/Button&gt;\n                    &lt;Button style={{\"marginLeft\":\"20px\"}} onClick={this.reset}&gt;重置&lt;/Button&gt;\n                &lt;/FormItem&gt;\n            &lt;/Form&gt;\n        )\n    }\n}</code></pre>"
        }
    ]
}